CREATE TABLE MEMBROS (
  MemCodigo INT PRIMARY KEY IDENTITY NOT NULL,
  MemNome VARCHAR(50) NOT NULL,
  MemSexo VARCHAR(10) NOT NULL,
  MemCPF VARCHAR(14) NOT NULL,
  MemEmail VARCHAR(30) NOT NULL,
  MemTelefone VARCHAR(14) NULL,
  MemDataNascimento DATETIME NOT NULL,
);

CREATE TABLE PROJETO (
  ProCodigo INT PRIMARY KEY IDENTITY NOT NULL,
  ProNome VARCHAR(50) NOT NULL,
  ProStatus BIT NOT NULL,
  ProDataInicio DATETIME NOT NULL,
  ProDataFinal DATETIME NULL,
);

CREATE TABLE ENDERECO (
  EndCodigo INT PRIMARY KEY IDENTITY NOT NULL,
  EndCodigoMembro INT NOT NULL,
  EndCEP VARCHAR(9) NOT NULL,
  EndPais VARCHAR(50) NOT NULL,
  EndUF VARCHAR(50) NOT NULL,
  EndCidade VARCHAR(50) NOT NULL,
  EndBairro VARCHAR(50) NOT NULL,
  EndLogradouro VARCHAR(50) NOT NULL,
  EndNumero INT NOT NULL,
  EndComplemento VARCHAR(50) NULL,
  INDEX ENDERECO_FKIndex1(EndCodigoMembro),
  FOREIGN KEY(EndCodigoMembro)
    REFERENCES MEMBROS(MemCodigo)
      ON DELETE CASCADE
      ON UPDATE CASCADE
);

CREATE TABLE TAREFA (
  TarCodigo INT PRIMARY KEY IDENTITY NOT NULL,
  TarCodigoProjeto INT NOT NULL,
  TarNome VARCHAR(50) NOT NULL,
  TarDescricao VARCHAR(300) NOT NULL,
  TarStatus BIT NOT NULL,
  TarDataInicio DATETIME NOT NULL,
  TarDataFinal DATETIME NULL,
  FOREIGN KEY(TarCodigoProjeto)
    REFERENCES PROJETO(ProCodigo)
      ON DELETE CASCADE
      ON UPDATE CASCADE
);

CREATE TABLE EQUIPE (
  EqpCodigo INT PRIMARY KEY IDENTITY NOT NULL,
  EqpCodigoProjeto INT NOT NULL,
  EqpNome VARCHAR(50) NOT NULL,
  EqpStatus BIT NOT NULL,
  EqpDataInicio DATETIME NOT NULL,
  EqpDataFinal DATETIME NULL,
  INDEX EQUIPE_FKIndex1(EqpCodigoProjeto),
  FOREIGN KEY(EqpCodigoProjeto)
    REFERENCES PROJETO(ProCodigo)
      ON DELETE CASCADE
      ON UPDATE CASCADE
);

CREATE TABLE TIPO_PROJETO (
  TpPCodigo INT PRIMARY KEY IDENTITY NOT NULL,
  TpPCodigoProjeto INT NOT NULL,
  TpPDescricao VARCHAR(100) NOT NULL,
  FOREIGN KEY(TpPCodigoProjeto)
    REFERENCES PROJETO(ProCodigo)
      ON DELETE CASCADE
      ON UPDATE CASCADE
);

CREATE TABLE MEMBRO_EQUIPE (
  MeqCodigoMembro INT NOT NULL,
  MeqCodigoEquipe INT NOT NULL,
  MeqFuncao VARCHAR(50) NOT NULL,
  MeqDataRegistro DATETIME NOT NULL,
  INDEX MEMBRO_EQUIPE_FKIndex1(MeqCodigoEquipe),
  INDEX MEMBRO_EQUIPE_FKIndex2(MeqCodigoMembro),
  PRIMARY KEY (MeqCodigoMembro, MeqCodigoEquipe),
  FOREIGN KEY(MeqCodigoEquipe)
    REFERENCES EQUIPE(EqpCodigo)
      ON DELETE CASCADE
      ON UPDATE CASCADE,
  FOREIGN KEY(MeqCodigoMembro)
    REFERENCES MEMBROS(MemCodigo)
      ON DELETE CASCADE
      ON UPDATE CASCADE
);